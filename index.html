<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fish Puzzle Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
        }

        .game-container {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            color: #0984e3;
            margin-bottom: 20px;
        }

        .puzzle-container {
            display: inline-block;
            border: 3px solid #0984e3;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(3, 120px);
            grid-template-rows: repeat(2, 120px);
            gap: 2px;
            background: #ddd;
            padding: 5px;
        }

        .puzzle-piece {
            width: 120px;
            height: 120px;
            border: 2px solid #fff;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .puzzle-piece:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .puzzle-piece.empty {
            background: #f0f0f0;
            border: 2px dashed #ccc;
            cursor: default;
        }

        .puzzle-piece.empty:hover {
            transform: none;
            box-shadow: none;
        }

        .fish-part {
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDM2MCAyNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImZpc2hHcmFkaWVudCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmZjc2NzUiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSI1MCUiIHN0b3AtY29sb3I9IiNmZmI5NDYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjZmY2MzQ3Ii8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8IS0tIEZpc2ggYm9keSAtLT4KICA8ZWxsaXBzZSBjeD0iMTgwIiBjeT0iMTIwIiByeD0iMTIwIiByeT0iNzAiIGZpbGw9InVybCgjZmlzaEdyYWRpZW50KSIgc3Ryb2tlPSIjZTc0YzNjIiBzdHJva2Utd2lkdGg9IjMiLz4KICA8IS0tIFRhaWwgLS0+CiAgPHBhdGggZD0iTSAzMDAgMTIwIEwgMzQwIDgwIEwgMzUwIDEyMCBMIDM0MCAzNjAgWiIgZmlsbD0iI2ZmYjk0NiIgc3Ryb2tlPSIjZTc0YzNjIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8IS0tIEV5ZSAtLT4KICA8Y2lyY2xlIGN4PSIxMzAiIGN5PSIxMDAiIHI9IjE1IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8Y2lyY2xlIGN4PSIxMzUiIGN5PSIxMDAiIHI9IjciIGZpbGw9IiMzMzMiLz4KICA8Y2lyY2xlIGN4PSIxMzciIGN5PSI5NyIgcj0iMyIgZmlsbD0id2hpdGUiLz4KICA8IS0tIEZpbnMgLS0+CiAgPHBhdGggZD0iTSAxNDAgMTcwIEwgMTIwIDIwMCBMIDE2MCAyMDAgWiIgZmlsbD0iI2ZmOTEwMCIgc3Ryb2tlPSIjZTc0YzNjIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBkPSJNIDEwMCAxNDAgTCA3MCAzNjAgTCAxMjAgMjQwIFoiIGZpbGw9IiNmZjkxMDAiIHN0cm9rZT0iI2U3NGMzYyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPCEtLSBNb3V0aCAtLT4KICA8ZWxsaXBzZSBjeD0iNzAiIGN5PSIxMjAiIHJ4PSIxNSIgcnk9IjgiIGZpbGw9IiM2NjYiLz4KICA8IS0tIFNjYWxlcyAtLT4KICA8Y2lyY2xlIGN4PSIxNjAiIGN5PSIxMTAiIHI9IjgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2U3NGMzYyIgc3Ryb2tlLXdpZHRoPSIxIiBvcGFjaXR5PSIwLjUiLz4KICA8Y2lyY2xlIGN4PSIyMDAiIGN5PSIzNDAiIHI9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IiNlNzRjM2MiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC41Ii8+CiAgPGNpcmNsZSBjeD0iMTgwIiBjeT0iMTUwIiByPSI2IiBmaWxsPSJub25lIiBzdHJva2U9IiNlNzRjM2MiIHN0cm9rZS13aWR0aD0iMSIgb3BhY2l0eT0iMC41Ii8+Cjwvc3ZnPg==');
            background-size: 360px 240px;
            background-repeat: no-repeat;
        }

        .buttons {
            margin: 20px 0;
        }

        button {
            background: #0984e3;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s ease;
        }

        button:hover {
            background: #74b9ff;
            transform: translateY(-2px);
        }

        .victory-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            padding: 30px 50px;
            border-radius: 15px;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
            text-align: center;
            border: 3px solid #fff;
        }

        .victory-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 999;
            display: none;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
            padding: 0;
            margin: 0;
        }

        .move-counter {
            color: #0984e3;
            font-size: 18px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üêü Fish Puzzle Game</h1>
        <div class="move-counter">Moves: <span id="moveCount">0</span></div>
        
        <div class="puzzle-container">
            <div class="puzzle-grid" id="puzzleGrid">
                <!-- Puzzle pieces will be generated here -->
            </div>
        </div>
        
        <div class="buttons">
            <button onclick="shufflePuzzle()">Shuffle</button>
            <button onclick="resetPuzzle()">Reset</button>
        </div>
    </div>

    <div class="victory-overlay" id="victoryOverlay" onclick="closeVictoryMessage()"></div>
    <div class="victory-message" id="victoryMessage">
        <button class="close-btn" onclick="closeVictoryMessage()">√ó</button>
        <div style="font-size: 32px; margin-bottom: 15px;">üéâ ÿ™ŸáÿßŸÜŸäŸÜÿß! üéâ</div>
        <div style="font-size: 18px; line-height: 1.6;">ŸÖŸÉÿßŸÜ ÿ±Ÿäÿ≠ÿ™Ÿá ÿ™ÿ¥ÿ®Ÿá ÿ∞ŸÉÿ±Ÿäÿßÿ™ ÿØÿßŸÅŸäÿ©ÿå Ÿàÿ£ÿµŸàÿßÿ™ ÿßŸÑŸÖŸÑÿßÿπŸÇ ŸÅŸäŸá ÿÆŸÅŸäŸÅÿ© ŸÉÿ£ŸÜŸáÿß ŸáŸÖÿ≥. ÿßŸÑÿ£ÿ∑ÿ®ÿßŸÇ ÿ™ÿ∑ŸÑÿπ ŸÉÿ£ŸÜŸáÿß ÿ∑ÿßŸÑÿπÿ© ŸÖŸÜ ÿ≥ÿ± ŸÇÿØŸäŸÖ‚Ä¶ ŸàÿßŸÑŸÑŸä ŸäŸÇÿπÿØ ÿ¨ŸàŸëŸá Ÿäÿ≠ÿ≥ ÿ•ŸÜŸá ŸÖÿØÿπŸà ÿπŸÑŸâ ÿ≠ÿßÿ¨ÿ© ŸÖÿ¥ ŸÑÿ£Ÿä ÿ≠ÿØ. ŸÅŸäŸÜ ÿØŸáÿü</div>
    </div>

    <script>
        let grid = [];
        let emptyPos = { row: 1, col: 2 }; // Bottom right is empty
        let moves = 0;

        function initPuzzle() {
            const puzzleGrid = document.getElementById('puzzleGrid');
            puzzleGrid.innerHTML = '';
            
            // Initialize solved state
            grid = [
                [0, 1, 2],
                [3, 4, 5]
            ];
            
            // Create puzzle pieces
            for (let row = 0; row < 2; row++) {
                for (let col = 0; col < 3; col++) {
                    const piece = document.createElement('div');
                    piece.className = 'puzzle-piece';
                    piece.onclick = () => movePiece(row, col);
                    updatePiece(piece, row, col);
                    puzzleGrid.appendChild(piece);
                }
            }
            
            moves = 0;
            updateMoveCounter();
        }

        function updatePiece(piece, row, col) {
            const pieceNum = grid[row][col];
            
            if (pieceNum === 5) {
                piece.className = 'puzzle-piece empty';
                piece.innerHTML = '';
            } else {
                piece.className = 'puzzle-piece';
                piece.innerHTML = '<div class="fish-part"></div>';
                
                const fishPart = piece.querySelector('.fish-part');
                const offsetX = -(pieceNum % 3) * 120;
                const offsetY = -Math.floor(pieceNum / 3) * 120;
                fishPart.style.backgroundPosition = `${offsetX}px ${offsetY}px`;
            }
        }

        function movePiece(row, col) {
            const pieceNum = grid[row][col];
            
            // Can't move the empty space
            if (pieceNum === 5) return;
            
            // Check if adjacent to empty space
            const rowDiff = Math.abs(row - emptyPos.row);
            const colDiff = Math.abs(col - emptyPos.col);
            
            if ((rowDiff === 1 && colDiff === 0) || (rowDiff === 0 && colDiff === 1)) {
                // Swap with empty space
                grid[emptyPos.row][emptyPos.col] = pieceNum;
                grid[row][col] = 5;
                emptyPos = { row, col };
                
                moves++;
                updateMoveCounter();
                updateDisplay();
                
                if (checkWin()) {
                    setTimeout(showVictoryMessage, 300);
                }
            }
        }

        function updateDisplay() {
            const pieces = document.querySelectorAll('.puzzle-piece');
            let index = 0;
            
            for (let row = 0; row < 2; row++) {
                for (let col = 0; col < 3; col++) {
                    updatePiece(pieces[index], row, col);
                    index++;
                }
            }
        }

        function checkWin() {
            const target = [
                [0, 1, 2],
                [3, 4, 5]
            ];
            
            for (let row = 0; row < 2; row++) {
                for (let col = 0; col < 3; col++) {
                    if (grid[row][col] !== target[row][col]) {
                        return false;
                    }
                }
            }
            return true;
        }

        function shufflePuzzle() {
            // Perform random valid moves to shuffle
            for (let i = 0; i < 100; i++) {
                const validMoves = [];
                
                // Find valid moves
                if (emptyPos.row > 0) validMoves.push({ row: emptyPos.row - 1, col: emptyPos.col });
                if (emptyPos.row < 1) validMoves.push({ row: emptyPos.row + 1, col: emptyPos.col });
                if (emptyPos.col > 0) validMoves.push({ row: emptyPos.row, col: emptyPos.col - 1 });
                if (emptyPos.col < 2) validMoves.push({ row: emptyPos.row, col: emptyPos.col + 1 });
                
                // Make random move
                const randomMove = validMoves[Math.floor(Math.random() * validMoves.length)];
                const pieceNum = grid[randomMove.row][randomMove.col];
                grid[emptyPos.row][emptyPos.col] = pieceNum;
                grid[randomMove.row][randomMove.col] = 5;
                emptyPos = randomMove;
            }
            
            moves = 0;
            updateMoveCounter();
            updateDisplay();
        }

        function resetPuzzle() {
            initPuzzle();
        }

        function updateMoveCounter() {
            document.getElementById('moveCount').textContent = moves;
        }

        function showVictoryMessage() {
            document.getElementById('victoryOverlay').style.display = 'block';
            document.getElementById('victoryMessage').style.display = 'block';
        }

        function closeVictoryMessage() {
            document.getElementById('victoryOverlay').style.display = 'none';
            document.getElementById('victoryMessage').style.display = 'none';
        }

        // Initialize the puzzle when page loads
        initPuzzle();
        shufflePuzzle(); // Start with shuffled puzzle
    </script>
</body>
</html>