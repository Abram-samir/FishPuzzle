<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¨Ø§Ø²Ù„ - Ø§Ù„Ø³Ù…ÙƒØ©</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes bounce-once {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    .animate-bounce-once {
      animation: bounce-once 1s ease-in-out;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-400 via-blue-300 to-cyan-300 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full">
    <div class="text-center mb-6">
      <h1 class="text-3xl font-bold text-blue-600 mb-2">ğŸ  Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¨Ø§Ø²Ù„ - Ø§Ù„Ø³Ù…ÙƒØ©</h1>
      <p class="text-gray-600">Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ù‚Ø·Ø¹ØªÙŠÙ† Ù„ØªØ¨Ø¯ÙŠÙ„Ù‡Ù…Ø§</p>
    </div>

    <div id="puzzle-grid" class="grid grid-cols-3 gap-2 mb-6 bg-blue-100 p-4 rounded-lg"></div>

    <div class="flex justify-center">
      <button id="shuffle-btn" class="flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition-colors shadow-md">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="16 3 21 3 21 8"></polyline>
          <line x1="4" y1="20" x2="21" y2="3"></line>
          <polyline points="21 16 21 21 16 21"></polyline>
          <line x1="15" y1="15" x2="21" y2="21"></line>
          <line x1="4" y1="4" x2="9" y2="9"></line>
        </svg>
        Ø®Ù„Ø· Ø¬Ø¯ÙŠØ¯
      </button>
    </div>
  </div>

  <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
    <div class="bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl shadow-2xl p-8 max-w-md w-full border-4 border-yellow-400 animate-bounce-once">
      <div class="text-center">
        <div class="text-6xl mb-4">ğŸ‰</div>
        <h2 class="text-2xl font-bold text-orange-600 mb-4">Ø£Ø­Ø³Ù†Øª!</h2>
        <div class="bg-white rounded-lg p-6 mb-6 shadow-inner">
          <p class="text-right text-lg leading-relaxed text-gray-800">
            Ù…ÙƒØ§Ù† Ø±Ø§ÙŠØ­ØªÙ‡ ØªØ´Ø¨Ù‡ Ø°ÙƒØ±ÙŠØ§Øª Ø¯Ø§ÙÙŠØ©ØŒ ÙˆØ£ØµÙˆØ§Øª Ø§Ù„Ù…Ù„Ø§Ø¹Ù‚ ÙÙŠÙ‡ Ø®ÙÙŠÙØ© ÙƒØ£Ù†Ù‡Ø§ Ù‡Ù…Ø³. Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ ØªØ·Ù„Ø¹ ÙƒØ£Ù†Ù‡Ø§ Ø·Ø§Ù„Ø¹Ø© Ù…Ù† Ø³Ø± Ù‚Ø¯ÙŠÙ…â€¦ ÙˆØ§Ù„Ù„ÙŠÙ‘ ÙŠÙ‚Ø¹Ø¯ Ø¬ÙˆÙ‘Ù‡ ÙŠØ­Ø³ Ø¥Ù†Ù‡ Ù…Ø¯Ø¹Ùˆ Ø¹Ù„Ù‰ Ø­Ø§Ø¬Ø© Ù…Ø´ Ù„Ø£ÙŠ Ø­Ø¯. ÙÙŠÙ† Ø¯Ù‡ØŸ
          </p>
        </div>
        <button id="play-again-btn" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg transition-colors shadow-md">
          Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
        </button>
      </div>
    </div>
  </div>

  <script>
    let pieces = [];
    let selectedPiece = null;
    let isSolved = false;

    function createFishSVG(pieceIndex) {
      const cols = 3;
      const rows = 2;
      const col = pieceIndex % cols;
      const row = Math.floor(pieceIndex / cols);
      
      const viewBoxX = col * (300 / cols);
      const viewBoxY = row * (200 / rows);
      const viewBoxW = 300 / cols;
      const viewBoxH = 200 / rows;

      return `
        <svg viewBox="${viewBoxX} ${viewBoxY} ${viewBoxW} ${viewBoxH}" class="w-full h-full">
          <ellipse cx="150" cy="100" rx="80" ry="50" fill="#FF8C42" stroke="#D96B2A" stroke-width="3"/>
          <path d="M 230 100 L 280 70 L 280 130 Z" fill="#FF8C42" stroke="#D96B2A" stroke-width="3"/>
          <path d="M 140 50 Q 150 30 160 50" fill="#FFA562" stroke="#D96B2A" stroke-width="2"/>
          <path d="M 140 150 Q 150 170 160 150" fill="#FFA562" stroke="#D96B2A" stroke-width="2"/>
          <ellipse cx="120" cy="115" rx="15" ry="25" fill="#FFA562" stroke="#D96B2A" stroke-width="2"/>
          <circle cx="110" cy="90" r="8" fill="white" stroke="#333" stroke-width="2"/>
          <circle cx="110" cy="90" r="4" fill="#333"/>
          <path d="M 90 105 Q 95 110 100 105" fill="none" stroke="#D96B2A" stroke-width="2" stroke-linecap="round"/>
          <circle cx="140" cy="95" r="8" fill="none" stroke="#D96B2A" stroke-width="1" opacity="0.5"/>
          <circle cx="155" cy="95" r="8" fill="none" stroke="#D96B2A" stroke-width="1" opacity="0.5"/>
          <circle cx="170" cy="95" r="8" fill="none" stroke="#D96B2A" stroke-width="1" opacity="0.5"/>
          <circle cx="147" cy="107" r="8" fill="none" stroke="#D96B2A" stroke-width="1" opacity="0.5"/>
          <circle cx="162" cy="107" r="8" fill="none" stroke="#D96B2A" stroke-width="1" opacity="0.5"/>
          <circle cx="70" cy="70" r="4" fill="#B3E5FC" opacity="0.6"/>
          <circle cx="60" cy="85" r="3" fill="#B3E5FC" opacity="0.6"/>
          <circle cx="75" cy="80" r="2" fill="#B3E5FC" opacity="0.6"/>
        </svg>
      `;
    }

    function shufflePuzzle() {
      const positions = [0, 1, 2, 3, 4, 5];
      for (let i = positions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [positions[i], positions[j]] = [positions[j], positions[i]];
      }
      pieces = positions;
      selectedPiece = null;
      isSolved = false;
      document.getElementById('success-modal').classList.add('hidden');
      renderPuzzle();
    }

    function checkSolved() {
      return pieces.every((piece, index) => piece === index);
    }

    function handlePieceClick(index) {
      if (isSolved) return;

      if (selectedPiece === null) {
        selectedPiece = index;
      } else {
        [pieces[selectedPiece], pieces[index]] = [pieces[index], pieces[selectedPiece]];
        selectedPiece = null;

        if (checkSolved()) {
          isSolved = true;
          document.getElementById('success-modal').classList.remove('hidden');
        }
      }
      renderPuzzle();
    }

    function renderPuzzle() {
      const grid = document.getElementById('puzzle-grid');
      grid.innerHTML = '';
      
      pieces.forEach((pieceValue, index) => {
        const div = document.createElement('div');
        div.className = `aspect-[3/2] bg-white rounded-lg cursor-pointer transition-all duration-200 border-4 ${
          selectedPiece === index
            ? 'border-yellow-400 scale-95 shadow-lg'
            : 'border-blue-300 hover:border-blue-400 hover:scale-105'
        }`;
        div.innerHTML = createFishSVG(pieceValue);
        div.onclick = () => handlePieceClick(index);
        grid.appendChild(div);
      });
    }

    document.getElementById('shuffle-btn').onclick = shufflePuzzle;
    document.getElementById('play-again-btn').onclick = shufflePuzzle;

    shufflePuzzle();
  </script>
</body>
</html>